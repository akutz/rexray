<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        <link rel="canonical" href="https://github.com/emccode/rexray/dev-guide/project-guidelines/">
        <link rel="shortcut icon" href="../../favicon.png">
        

	<title>Project Guidelines - REX-Ray</title>

        <link href="../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../css/font-awesome-4.0.3.css" rel="stylesheet">
        <link rel="stylesheet" href="../../css/highlight.css">
        <link href="../../css/base.css" rel="stylesheet">
        <link href="../../css/emccode-font.css" rel="stylesheet">
        <link href="../../css/hX.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        

        <!-- scroll fix -->
        <script>
            //var shiftWindow = function() { scrollBy(0, -40) };
            //if (location.hash) shiftWindow();
            //window.addEventListener("hashchange", shiftWindow);
        </script>

    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <!-- Main title -->
            <a class="navbar-brand" href="../..">
                <i class="fa icon-rexray-logo"></i>
                REX-Ray
            </a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            <!-- Main navigation -->
            <ul class="nav navbar-nav">
            
            
                <li >
                    <a href="../..">Home</a>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">User Guide <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../../user-guide/installation/">Installation</a>
                        </li>
                    
                        <li >
                            <a href="../../user-guide/config/">Configuration</a>
                        </li>
                    
                        <li >
                            <a href="../../user-guide/storage-providers/">Storage Providers</a>
                        </li>
                    
                        <li >
                            <a href="../../user-guide/schedulers/">Schedulers</a>
                        </li>
                    
                        <li >
                            <a href="../../user-guide/applications/">Applications</a>
                        </li>
                    
                    </ul>
                </li>
                <!--
                smart menus
                <li><a href="#">User Guide <span class="caret"></span></a>
                    <ul class="dropdown-menu">
                    
                    
                        <li >
                            <a href="../../user-guide/installation/">Installation</a>
                        </li>
                    
                    
                    
                        <li >
                            <a href="../../user-guide/config/">Configuration</a>
                        </li>
                    
                    
                    
                        <li >
                            <a href="../../user-guide/storage-providers/">Storage Providers</a>
                        </li>
                    
                    
                    
                        <li >
                            <a href="../../user-guide/schedulers/">Schedulers</a>
                        </li>
                    
                    
                    
                        <li >
                            <a href="../../user-guide/applications/">Applications</a>
                        </li>
                    
                    
                    </ul>
                </li>
                -->
            
            
            
                <li class="dropdown active">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Developers Guide <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li class="active">
                            <a href="./">Project Guidelines</a>
                        </li>
                    
                        <li >
                            <a href="../build-reference/">Build Reference</a>
                        </li>
                    
                        <li >
                            <a href="../release-process/">Release Process</a>
                        </li>
                    
                    </ul>
                </li>
                <!--
                smart menus
                <li><a href="#">Developers Guide <span class="caret"></span></a>
                    <ul class="dropdown-menu">
                    
                    
                        <li class="active">
                            <a href="./">Project Guidelines</a>
                        </li>
                    
                    
                    
                        <li >
                            <a href="../build-reference/">Build Reference</a>
                        </li>
                    
                    
                    
                        <li >
                            <a href="../release-process/">Release Process</a>
                        </li>
                    
                    
                    </ul>
                </li>
                -->
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">About <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../../about/contributing/">Contributing</a>
                        </li>
                    
                        <li >
                            <a href="../../about/license/">License</a>
                        </li>
                    
                        <li >
                            <a href="../../about/release-notes/">Release Notes</a>
                        </li>
                    
                    </ul>
                </li>
                <!--
                smart menus
                <li><a href="#">About <span class="caret"></span></a>
                    <ul class="dropdown-menu">
                    
                    
                        <li >
                            <a href="../../about/contributing/">Contributing</a>
                        </li>
                    
                    
                    
                        <li >
                            <a href="../../about/license/">License</a>
                        </li>
                    
                    
                    
                        <li >
                            <a href="../../about/release-notes/">Release Notes</a>
                        </li>
                    
                    
                    </ul>
                </li>
                -->
            
            
            </ul>

            <!-- Search, Navigation and Repo links -->
            <ul class="nav navbar-nav navbar-right">
                <li >
                    <a rel="next" href="../../user-guide/applications/">
                        <i class="fa fa-arrow-left"></i> Previous
                    </a>
                </li>
                <li >
                    <a rel="prev" href="../build-reference/">
                        Next <i class="fa fa-arrow-right"></i>
                    </a>
                </li>
                
                <li>
                    <a href="https://github.com/emccode/rexray.git">
                        
                            <i class="fa fa-github"></i>
                        
                        GitHub
                    </a>
                </li>
                
                <li>
                    <a href="https://emccode.github.io">
                        <i class="fa icon-emccode-logo"></i>
                    </a>
                </li>
            </ul>
        </div>
    </div>
</div>
        <div class="container ">
            <div class="col-md-3"><div id="sidenav" class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#project-guidelines">Project Guidelines</a></li>
        
            <li><a href="#documentation">Documentation</a>
            
                <ul class="nav nav-stacked">
                
                <li><a href="#source-code">Source Code</a><!--
                -->
                </li>
                
                <li><a href="#markdown">Markdown</a><!--
                -->
                </li>
                
                </ul>
            
            </li>
        
            <li><a href="#style-syntax">Style &amp; Syntax</a>
            
            </li>
        
            <li><a href="#code-coverage">Code Coverage</a>
            
            </li>
        
            <li><a href="#commit-messages">Commit Messages</a>
            
            </li>
        
            <li><a href="#submitting-changes">Submitting Changes</a>
            
            </li>
        
    
    </ul>
</div></div>
            <div class="col-md-9" role="main">

<h1 id="project-guidelines">Project Guidelines</h1>
<p>These are important.</p>
<hr />
<p>People contributing code to this project must adhere to the following rules.
These standards are in place to keep code clean, consistent, and stable.</p>
<h2 id="documentation">Documentation</h2>
<p>There are two types of documentation: source and markdown.</p>
<h3 id="source-code">Source Code</h3>
<p>All source code should be documented in accordance with the
<a href="http://blog.golang.org/godoc-documenting-go-code">Go's documentation rules</a>.</p>
<h3 id="markdown">Markdown</h3>
<p>When creating or modifying the project's <code>README.md</code> file or any of the
documentation in the <code>.docs</code> directory, please keep the following rules in
mind:</p>
<ol>
<li>All links to internal resources should be relative.</li>
<li>All links to markdown files should include the file extension.</li>
</ol>
<p>For example, the below link points to the anchor <code>basic-configuration</code> on the
<code>Configuration</code> page:</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<a href="../../user-guide/config#basic-configuration">/user-guide/config#basic-configuration</a></p>
<p>However, when the above link is followed when viewing this page directly from
the Github repository instead of the generated site documentation, the link
will return a 404.</p>
<p>While it's recommended that users view the generated site documentation instead
of the source Markdown directly, we can still fix it so that the above link
will work regardless. To fix the link, simply make it relative and add the
Markdown file extension:</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<a href="../../user-guide/config/#basic-configuration">../user-guide/config.md#basic-configuration</a></p>
<p>Now the link will work regardless from where it's viewed.</p>
<h2 id="style-syntax">Style &amp; Syntax</h2>
<p>All source files should be processed by the following tools prior to being
committed. Any errors or warnings produced by the tools should be corrected
before the source is committed.</p>
<table>
<thead>
<tr>
<th>Tool</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://golang.org/cmd/gofmt/">gofmt</a></td>
<td>A golang source formatting tool</td>
</tr>
<tr>
<td><a href="https://github.com/golang/lint">golint</a></td>
<td>A golang linter</td>
</tr>
<tr>
<td><a href="https://golang.org/cmd/vet/">govet</a></td>
<td>A golang source optimization tool</td>
</tr>
<tr>
<td><a href="https://github.com/fzipp/gocyclo">gocyclo</a></td>
<td>A golang cyclomatic complexity detection tool. No function should have a score above 0.15</td>
</tr>
</tbody>
</table>
<p>If <a href="https://atom.io/">Atom</a> is your IDE of choice, install the
<a href="https://atom.io/packages/go-plus">go-plus</a> package, and it will execute all of
the tools above less gocyclo upon saving a file.</p>
<p>In lieu of using Atom as the IDE, the project's <code>Makefile</code> automatically
executes the above tools as part of the build process and will fail the build
if problems are discovered.</p>
<p>Another option is to use a client-side, pre-commit hook to ensure that the
sources meet the required standards. For example, in the project's <code>.git/hooks</code>
directory create a file called <code>pre-commit</code> and mark it as executable. Then
paste the following content inside the file:</p>
<pre><code class="sh">#!/bin/sh
make fmt 1&gt; /dev/null
</code></pre>

<p>The above script will execute prior to a Git commit operation, prior to even
the commit message dialog. The script will invoke the <code>Makefile</code>'s <code>fmt</code>
target, formatting the sources. If the command returns a non-zero exit code,
the commit operation will abort with the error.</p>
<h2 id="code-coverage">Code Coverage</h2>
<p>All new work submitted to the project should have associated tests where
applicable. If there is ever a question of whether or not a test is applicable
then the answer is likely yes.</p>
<p>This project uses
<a href="https://coveralls.io/github/emccode/rexray">Coveralls</a> for code coverage, and
all pull requests are processed just as a build from <code>master</code>. If a pull request
decreases the project's code coverage, the pull request will be declined until
such time that testing is added or enhanced to compensate.</p>
<p>It's also possible to test the project locally while outputting the code
coverage. On the command line, from the project's root directory, execute the
following:</p>
<pre><code class="sh">$ .build/test.sh
ok      github.com/emccode/rexray/rexray/cli    0.039s  coverage: 33.6% of statements
ok      github.com/emccode/rexray/test  0.080s  coverage: 94.0% of statements in github.com/emccode/rexray, github.com/emccode/rexray/core
...
ok      github.com/emccode/rexray/util  0.024s  coverage: 100.0% of statements
[0]akutz@pax:rexray$
</code></pre>

<p>The file <code>test.sh</code> in the <code>.build</code> directory is the same script executed during
the project's <a href="../travis-ci.org/emccode/rexray">automated build system</a>. The only
difference is when executed locally the results are not submitted to Coveralls.
Still, using the <code>test.sh</code> file one can easily determine if a package's coverage
has decreased and if additional testing is necessary.</p>
<h2 id="commit-messages">Commit Messages</h2>
<p>Commit messages should follow the guide <a href="https://robots.thoughtbot.com/5-useful-tips-for-a-better-commit-message">5 Useful Tips For a Better Commit
Message</a>.
The two primary rules to which to adhere are:</p>
<ol>
<li>
<p>Commit message subjects should not exceed 50 characters in total and
     should be followed by a blank line.</p>
</li>
<li>
<p>The commit message's body should not have a width that exceeds 72
     characters.</p>
</li>
</ol>
<p>For example, the following commit has a very useful message that is succinct
without losing utility.</p>
<pre><code class="text">commit e80c696939a03f26cd180934ba642a729b0d2941
Author: akutz &lt;sakutz@gmail.com&gt;
Date:   Tue Oct 20 23:47:36 2015 -0500

    Added --format,-f option for CLI

    This patch adds the flag '--format' or '-f' for the
    following CLI commands:

        * adapter instances
        * device [get]
        * snapshot [get]
        * snapshot copy
        * snapshot create
        * volume [get]
        * volume attach
        * volume create
        * volume map
        * volume mount
        * volume path

    The user can specify either '--format=yml|yaml|json' or
    '-f yml|yaml|json' in order to influence how the resulting,
    structured data is marshaled prior to being emitted to the console.
</code></pre>

<p>Please note that the output above is the full output for viewing a commit.
However, because the above message adheres to the commit message rules, it's
quite easy to show just the commit's subject:</p>
<pre><code class="sh">$ git show e80c696939a03f26cd180934ba642a729b0d2941 --format=&quot;%s&quot; -s
Added --format,-f option for CLI
</code></pre>

<p>It's also equally simple to print the commit's subject and body together:</p>
<pre><code class="sh">$ git show e80c696939a03f26cd180934ba642a729b0d2941 --format=&quot;%s%n%n%b&quot; -s
Added --format,-f option for CLI

This patch adds the flag '--format' or '-f' for the
following CLI commands:

    * adapter instances
    * device [get]
    * snapshot [get]
    * snapshot copy
    * snapshot create
    * volume [get]
    * volume attach
    * volume create
    * volume map
    * volume mount
    * volume path

The user can specify either '--format=yml|yaml|json' or
'-f yml|yaml|json' in order to influence how the resulting,
structured data is marshaled prior to being emitted to the console.
</code></pre>

<h2 id="submitting-changes">Submitting Changes</h2>
<p>All developers are required to follow the
<a href="https://guides.github.com/introduction/flow/">GitHub Flow model</a> when
proposing new features or even submitting fixes.</p>
<p>Please note that although not explicitly stated in the referenced GitHub Flow
model, all work should occur on a <strong>fork</strong> of this project, not from within a
branch of this project itself.</p>
<p>Pull requests submitted to this project should adhere to the following
guidelines:</p>
<ul>
<li>
<p>Branches should be rebased off of the upstream master prior to being
    opened as pull requests and again prior to merge. This is to ensure that
    the build system accounts for any changes that may only be detected during
    the build and test phase.</p>
</li>
<li>
<p>Unless granted an exception a pull request should contain only a single
    commit. This is because features and patches should be atomic -- wholly
    shippable items that are either included in a release, or not. Please
    squash commits on a branch before opening a pull request. It is not a
    deal-breaker otherwise, but please be prepared to add a comment or
    explanation as to why you feel multiple commits are required.</p>
</li>
</ul></div>
        </div>

        <script src="../../js/jquery-1.10.2.min.js"></script>
        <script src="../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../js/highlight.pack.js"></script>
        <script src="../../js/base.js"></script>
        <!--
        <script src="../../.themes/yeti/js/base.js"></script>
        <script src="../../.themes/yeti/js/bootstrap-3.0.3.min.js"></script>
        <script src="../../.themes/yeti/js/highlight.pack.js"></script>
        <script src="../../.themes/yeti/js/jquery-1.10.2.min.js"></script>
        -->
    </body>

</html>