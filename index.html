<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        <link rel="canonical" href="https://github.com/emccode/rexray/">
        <link rel="shortcut icon" href="favicon.png">
        

	<title>REX-Ray</title>

        <link href="./css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="./css/font-awesome-4.0.3.css" rel="stylesheet">
        <link rel="stylesheet" href="./css/highlight.css">
        <link href="./css/base.css" rel="stylesheet">
        <link href="./css/emccode-font.css" rel="stylesheet">
        <link href="./css/hX.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        

        <!-- scroll fix -->
        <script>
            //var shiftWindow = function() { scrollBy(0, -40) };
            //if (location.hash) shiftWindow();
            //window.addEventListener("hashchange", shiftWindow);
        </script>

    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <!-- Main title -->
            <a class="navbar-brand" href=".">
                <i class="fa icon-rexray-logo"></i>
                REX-Ray
            </a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            <!-- Main navigation -->
            <ul class="nav navbar-nav">
            
            
                <li class="active">
                    <a href=".">Home</a>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">User Guide <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="user-guide/installation/">Installation</a>
                        </li>
                    
                        <li >
                            <a href="user-guide/config/">Configuration</a>
                        </li>
                    
                        <li >
                            <a href="user-guide/storage-providers/">Storage Providers</a>
                        </li>
                    
                        <li >
                            <a href="user-guide/schedulers/">Schedulers</a>
                        </li>
                    
                        <li >
                            <a href="user-guide/applications/">Applications</a>
                        </li>
                    
                    </ul>
                </li>
                <!--
                smart menus
                <li><a href="#">User Guide <span class="caret"></span></a>
                    <ul class="dropdown-menu">
                    
                    
                        <li >
                            <a href="user-guide/installation/">Installation</a>
                        </li>
                    
                    
                    
                        <li >
                            <a href="user-guide/config/">Configuration</a>
                        </li>
                    
                    
                    
                        <li >
                            <a href="user-guide/storage-providers/">Storage Providers</a>
                        </li>
                    
                    
                    
                        <li >
                            <a href="user-guide/schedulers/">Schedulers</a>
                        </li>
                    
                    
                    
                        <li >
                            <a href="user-guide/applications/">Applications</a>
                        </li>
                    
                    
                    </ul>
                </li>
                -->
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Developers Guide <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="dev-guide/project-guidelines/">Project Guidelines</a>
                        </li>
                    
                        <li >
                            <a href="dev-guide/build-reference/">Build Reference</a>
                        </li>
                    
                        <li >
                            <a href="dev-guide/release-process/">Release Process</a>
                        </li>
                    
                    </ul>
                </li>
                <!--
                smart menus
                <li><a href="#">Developers Guide <span class="caret"></span></a>
                    <ul class="dropdown-menu">
                    
                    
                        <li >
                            <a href="dev-guide/project-guidelines/">Project Guidelines</a>
                        </li>
                    
                    
                    
                        <li >
                            <a href="dev-guide/build-reference/">Build Reference</a>
                        </li>
                    
                    
                    
                        <li >
                            <a href="dev-guide/release-process/">Release Process</a>
                        </li>
                    
                    
                    </ul>
                </li>
                -->
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">About <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="about/contributing/">Contributing</a>
                        </li>
                    
                        <li >
                            <a href="about/license/">License</a>
                        </li>
                    
                        <li >
                            <a href="about/release-notes/">Release Notes</a>
                        </li>
                    
                    </ul>
                </li>
                <!--
                smart menus
                <li><a href="#">About <span class="caret"></span></a>
                    <ul class="dropdown-menu">
                    
                    
                        <li >
                            <a href="about/contributing/">Contributing</a>
                        </li>
                    
                    
                    
                        <li >
                            <a href="about/license/">License</a>
                        </li>
                    
                    
                    
                        <li >
                            <a href="about/release-notes/">Release Notes</a>
                        </li>
                    
                    
                    </ul>
                </li>
                -->
            
            
            </ul>

            <!-- Search, Navigation and Repo links -->
            <ul class="nav navbar-nav navbar-right">
                <li class="disabled">
                    <a rel="next" >
                        <i class="fa fa-arrow-left"></i> Previous
                    </a>
                </li>
                <li >
                    <a rel="prev" href="user-guide/installation/">
                        Next <i class="fa fa-arrow-right"></i>
                    </a>
                </li>
                
                <li>
                    <a href="https://github.com/emccode/rexray.git">
                        
                            <i class="fa fa-github"></i>
                        
                        GitHub
                    </a>
                </li>
                
                <li>
                    <a href="https://emccode.github.io">
                        <i class="fa icon-emccode-logo"></i>
                    </a>
                </li>
            </ul>
        </div>
    </div>
</div>
        <div class="container index">
            <div class="col-md-3"><div id="sidenav" class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#rex-ray">REX-Ray</a></li>
        
            <li><a href="#overview">Overview</a>
            
                <ul class="nav nav-stacked">
                
                <li><a href="#storage-provider-support">Storage Provider Support</a><!--
                -->
                </li>
                
                <li><a href="#operating-system-support">Operating System Support</a><!--
                -->
                </li>
                
                <li><a href="#container-platform-support">Container Platform Support</a><!--
                -->
                </li>
                
                </ul>
            
            </li>
        
            <li><a href="#getting-started">Getting Started</a>
            
                <ul class="nav nav-stacked">
                
                <li><a href="#installing-rex-ray">Installing REX-Ray</a><!--
                -->
                </li>
                
                <li><a href="#configuring-rex-ray">Configuring REX-Ray</a><!--
                -->
                </li>
                
                <li><a href="#start-rex-ray-as-a-service">Start REX-Ray as a Service</a><!--
                -->
                </li>
                
                <li><a href="#hello-rex-ray">Hello REX-Ray</a><!--
                
                <ul class="nav nav-stacked">
                    
                    <li><a href="#start-rex-ray-vagrant-environment">Start REX-Ray Vagrant Environment</a></li>
                    
                    <li><a href="#node-0">Node 0</a></li>
                    
                    <li><a href="#node-1">Node 1</a></li>
                    
                    <li><a href="#cleaning-up">Cleaning Up</a></li>
                    
                    <li><a href="#congratulations">Congratulations</a></li>
                    
                </ul>
                -->
                </li>
                
                </ul>
            
            </li>
        
            <li><a href="#getting-help">Getting Help</a>
            
                <ul class="nav nav-stacked">
                
                <li><a href="#debug">Debug</a><!--
                -->
                </li>
                
                <li><a href="#github-and-slack">GitHub and Slack</a><!--
                -->
                </li>
                
                </ul>
            
            </li>
        
    
    </ul>
</div></div>
            <div class="col-md-9" role="main">

<h1 id="rex-ray">REX-Ray</h1>
<p>Openly serious about storage</p>
<hr />
<p>REX-Ray delivers persistent storage access for container runtimes, such as
Docker and Mesos, and provides an easy interface for enabling advanced storage
functionality across common storage, virtualization and cloud platforms. For
example, here's how to list the volumes for a VirtualBox VM running Linux with
REX-Ray:</p>
<pre><code class="sh">$ rexray volume --service virtualbox
- attachments:
  - instanceID:
      id: e71578b0-1bfb-4fa5-bcd5-4ae982fd4a9b
      driver: virtualbox
    status: /Users/akutz/VirtualBox/libStorage/libStorage.vmdk
    volumeID: 1b819454-a280-4cff-aff5-141f4e8fd154
  name: libStorage.vmdk
  size: 64
  status: /Users/akutz/VirtualBox/libStorage/libStorage.vmdk
  id: 1b819454-a280-4cff-aff5-141f4e8fd154
  type: &quot;&quot;
</code></pre>

<h2 id="overview">Overview</h2>
<p>REX-Ray is a storage orchestration tool that provides a set of common commands
for managing multiple storage platforms. Built on top of the
<a href="http://libstorage.readthedocs.io/en/stable">libStorage</a> framework, REX-Ray
connects enables persistent storage for container runtimes such as Docker and
Mesos.</p>
<div class="admonition note">
<p class="admonition-title">note</p>
<p>The initial REX-Ray 0.4.x release omits support for several,
previously verified storage platforms. These providers will be
reintroduced incrementally, beginning with 0.4.1. If an absent driver
prevents the use of REX-Ray, please continue to use 0.3.3 until such time
the storage platform is introduced in REX-Ray 0.4.x. Instructions on how
to <a href="user-guide/installation/#rex-ray-033">install</a> and
<a href="http://rexray.readthedocs.io/en/v0.3.3">configure</a> REX-Ray 0.3.3 are both
available.</p>
</div>
<h3 id="storage-provider-support">Storage Provider Support</h3>
<p>The following storage providers and platforms are supported by REX-Ray.</p>
<table>
<thead>
<tr>
<th>Provider</th>
<th>Storage Platform(s)</th>
</tr>
</thead>
<tbody>
<tr>
<td>EMC</td>
<td><a href="http://libstorage.readthedocs.io/en/stable/user-guide/storage-providers#scaleio">ScaleIO</a>, <a href="http://libstorage.readthedocs.io/en/stable/user-guide/storage-providers#isilon">Isilon</a></td>
</tr>
<tr>
<td><a href="http://libstorage.readthedocs.io/en/stable/user-guide/storage-providers#virtualbox">Oracle VirtualBox</a></td>
<td>Virtual Media</td>
</tr>
</tbody>
</table>
<p>Support for the following storage providers will be reintroduced in upcoming
releases:</p>
<table>
<thead>
<tr>
<th>Provider</th>
<th>Storage Platform(s)</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="user-guide/storage-providers/#coming-soon">Amazon EC2</a></td>
<td>EBS</td>
</tr>
<tr>
<td><a href="user-guide/storage-providers/#coming-soon">Google Compute Engine</a></td>
<td>Disk</td>
</tr>
<tr>
<td><a href="user-guide/storage-providers/#coming-soon">Open Stack</a></td>
<td>Cinder</td>
</tr>
<tr>
<td><a href="user-guide/storage-providers/#coming-soon">Rackspace</a></td>
<td>Cinder</td>
</tr>
<tr>
<td>EMC</td>
<td><a href="user-guide/storage-providers/#coming-soon">XtremIO</a>, <a href="user-guide/storage-providers/#coming-soon">VMAX</a></td>
</tr>
</tbody>
</table>
<h3 id="operating-system-support">Operating System Support</h3>
<p>The following operating systems (OS) are supported by REX-Ray:</p>
<table>
<thead>
<tr>
<th>OS</th>
<th>Command Line</th>
<th>Service</th>
</tr>
</thead>
<tbody>
<tr>
<td>Ubuntu 12+</td>
<td>Yes</td>
<td>Yes</td>
</tr>
<tr>
<td>Debian 6+</td>
<td>Yes</td>
<td>Yes</td>
</tr>
<tr>
<td>RedHat</td>
<td>Yes</td>
<td>Yes</td>
</tr>
<tr>
<td>CentOS 6+</td>
<td>Yes</td>
<td>Yes</td>
</tr>
<tr>
<td>CoreOS</td>
<td>Yes</td>
<td>Yes</td>
</tr>
<tr>
<td>TinyLinux (boot2docker)</td>
<td>Yes</td>
<td>Yes</td>
</tr>
<tr>
<td>OS X Yosemite+</td>
<td>Yes</td>
<td>No</td>
</tr>
<tr>
<td>Windows</td>
<td>No</td>
<td>No</td>
</tr>
</tbody>
</table>
<h3 id="container-platform-support">Container Platform Support</h3>
<p>REX-Ray currently supports the following container platforms:</p>
<table>
<thead>
<tr>
<th>Platform</th>
<th>Use</th>
</tr>
</thead>
<tbody>
<tr>
<td>Docker</td>
<td><a href="user-guide/schedulers/#docker">Volume Driver Plugin</a></td>
</tr>
<tr>
<td>Mesos</td>
<td><a href="user-guide/schedulers/#mesos">Volume Driver Isolator module</a></td>
</tr>
<tr>
<td>Mesos + Docker</td>
<td><a href="user-guide/schedulers/#mesos">Volume Driver Plugin</a></td>
</tr>
</tbody>
</table>
<h2 id="getting-started">Getting Started</h2>
<p>This section will help in getting REX-Ray up and running quickly.</p>
<h3 id="installing-rex-ray">Installing REX-Ray</h3>
<p>The following command will download the most recent, stable build of REX-Ray
and install it to <code>/usr/bin/rexray</code> on Linux systems. REX-Ray will be
registered as either a SystemD or SystemV service depending upon the OS.</p>
<pre><code class="sh">$ curl -sSL https://dl.bintray.com/emccode/rexray/install | sh
</code></pre>

<p>Refer to the User Guide's
<a href="./user-guide/installation/#installation">installation topic</a> for instructions
on building REX-Ray from source, installing specific versions, and more.</p>
<h3 id="configuring-rex-ray">Configuring REX-Ray</h3>
<p>REX-Ray requires a configuration file for storing details used to communicate
with storage providers. This can include authentication credentials and
driver-specific configuration options. Refer to the libStorage Storage Providers
<a href="http://libstorage.readthedocs.io/en/stable/user-guide/storage-providers/">documentation</a>
for sample configurations of all supported storage platforms. Additionally, look
at <a href="user-guide/config/#configuration-properties">core properties</a> &amp;
<a href="user-guide/config/#logging-configuration">logging</a> for advanced
configurations.</p>
<p>Create a configuration file on the host at <code>/etc/rexray/config.yml</code>. Here is a
simple example for using Oracle VirtualBox:</p>
<pre><code class="yaml">libstorage:
  service: virtualbox
</code></pre>

<p>Refer to the
<a href="http://libstorage.readthedocs.io/en/stable/user-guide/storage-providers/#virtualbox">VirtualBox documentation</a>
for additional VirtualBox configuration options.</p>
<p>From here, REX-Ray can now be used as a command line tool. View the commands
available:</p>
<pre><code class="sh">$ rexray --help
</code></pre>

<p>To verify the configuration file, use REX-Ray to list the volumes:</p>
<pre><code class="sh">$ rexray volume
- attachments:
  - instanceID:
      id: e71578b0-1bfb-4fa5-bcd5-4ae982fd4a9b
      driver: virtualbox
    status: /Users/akutz/VirtualBox/libStorage/libStorage.vmdk
    volumeID: 1b819454-a280-4cff-aff5-141f4e8fd154
  name: libStorage.vmdk
  size: 64
  status: /Users/akutz/VirtualBox/libStorage/libStorage.vmdk
  id: 1b819454-a280-4cff-aff5-141f4e8fd154
  type: &quot;&quot;
</code></pre>

<p>If there is an error, use the <code>-l debug</code> flag and consult
<a href="./#getting-help">debugging instructions</a>.</p>
<h3 id="start-rex-ray-as-a-service">Start REX-Ray as a Service</h3>
<p>Container platforms rely on REX-Ray to be running as a service to function
properly. For instance, Docker communicates to the REX-Ray Volume Driver via
a UNIX socket file.</p>
<pre><code class="sh">$ rexray service start
</code></pre>

<h3 id="hello-rex-ray">Hello REX-Ray</h3>
<p>In the grand tradition of technical documentation, the first true end-to-end
example of REX-Ray is called <code>Hello REX-Ray</code>. It showcases a two-node
deployment with the first node configured as a REX-Ray/libStorage server and
the second node as merely a client. Both nodes have Docker (1.11+) installed
and configured to leverage REX-Ray for persistent storage.</p>
<p>The below example does have a few requirements:</p>
<ul>
<li>VirtualBox 5.0+</li>
<li>Vagrant 1.8+</li>
<li>Ruby 2.0+</li>
</ul>
<h4 id="start-rex-ray-vagrant-environment">Start REX-Ray Vagrant Environment</h4>
<p>Before bringing the Vagrant environment online, please ensure it is
accomplished in a clean directory:</p>
<pre><code class="sh">$ cd $(mktemp -d)
</code></pre>

<p>Inside the newly created, temporary directory, download the REX-Ray
<a href="https://github.com/emccode/rexray/blob/master/Vagrantfile">Vagrantfile</a>:</p>
<pre><code class="sh">$ curl -fsSLO https://raw.githubusercontent.com/emccode/rexray/master/Vagrantfile
</code></pre>

<p>Now it is time to bring the REX-Ray environment online:</p>
<div class="admonition note">
<p class="admonition-title">note</p>
<p>The next step could potentially open up the system on which the command
is executed to security vulnerabilities. The Vagrantfile brings the
VirtualBox web service online if it is not already running. However,
in the name of simplicity the Vagrantfile also disables the web server's
authentication module. Please do not disable authentication for the
VirtualBox web server if this example is being executed on an open network
or without some type of firewall in place.</p>
</div>
<pre><code class="sh">$ vagrant up
</code></pre>

<p>The above command should result in output similar to
<a href="https://gist.github.com/akutz/13fc3b2237ea2c295a25c2e367e6bd8f">this Gist</a>.</p>
<p>Once the command has been completed successfully there will be two VMs online
named <code>node0</code> and <code>node1</code>. Both nodes are running Docker and REX-Ray with
<code>node0</code> configured to act as a libStorage server.</p>
<p>Now that the environment is online it is time to showcase Docker leveraging
REX-Ray to create persistent storage as well as illustrating REX-Ray'a
distributed deployment capabilities.</p>
<h4 id="node-0">Node 0</h4>
<p>First, SSH into <code>node0</code></p>
<pre><code class="sh">$ vagrant ssh node0
</code></pre>

<p>From <code>node0</code> use Docker with REX-Ray to create a new volume named
<code>hellopersistence</code>:</p>
<pre><code class="sh">vagrant@node0:~$ docker volume create --driver rexray --opt size=1 \
                 --name hellopersistence
</code></pre>

<p>After the volume is created, mount it to the host and container using the
<code>--volume-driver</code> and <code>-v</code> flag in the <code>docker run</code> command:</p>
<pre><code class="sh">vagrant@node0:~$ docker run -tid --volume-driver=rexray \
                 -v hellopersistence:/mystore \
                 --name temp01 busybox
</code></pre>

<p>Create a new file named <code>myfile</code> on the file system backed by the persistent
volume using <code>docker exec</code>:</p>
<pre><code class="sh">vagrant@node0:~$ docker exec temp01 touch /mystore/myfile
</code></pre>

<p>Verify the file was successfully created by listing the contents of the
persistent volume:</p>
<pre><code class="sh">vagrant@node0:~$ docker exec temp01 ls /mystore
</code></pre>

<p>Remove the container that was used to write the data to the persistent volume:</p>
<pre><code class="sh">vagrant@node0:~$ docker rm -f temp01
</code></pre>

<p>Finally, exit the SSH session to <code>node0</code>:</p>
<pre><code class="sh">vagrant@node0:~$ exit
</code></pre>

<h4 id="node-1">Node 1</h4>
<p>It's time to connect to <code>node1</code> and use the volume <code>hellopersistence</code> that was
created in the previous section from <code>node0</code>.</p>
<div class="admonition note">
<p class="admonition-title">note</p>
<p>While <code>node1</code> runs both the Docker and REX-Ray services like <code>node1</code>, the
REX-Ray service on <code>node0</code> in no way understands or is configured for the
VirtualBox storage driver. All interactions with the VirtualBox web service
occurs via <code>node0</code>'s libStorage server with which <code>node1</code> communicates.</p>
</div>
<p>Use the vagrant command to SSH into <code>node1</code>:</p>
<pre><code class="sh">$ vagrant ssh node1
</code></pre>

<p>Next, create a new container that mounts the existing volume,
<code>hellopersistence</code>:</p>
<pre><code class="sh">vagrant@node1:~$ docker run -tid --volume-driver=rexray \
                 -v hellopersistence:/mystore \
                 --name temp01 busybox
</code></pre>

<p>The next command validates the file <code>myfile</code> created from <code>node0</code> in the
previous section has persisted inside the volume across machines:</p>
<pre><code class="sh">vagrant@node1:~$ docker exec temp01 ls /mystore
</code></pre>

<p>Finally, exit the SSH session to <code>node1</code>:</p>
<pre><code class="sh">vagrant@node1:~$ exit
</code></pre>

<h4 id="cleaning-up">Cleaning Up</h4>
<p>Be sure to kill the VirtualBox web server with a quick <code>killall vboxwebsrv</code> and
to tear down the Vagrant environment with <code>vagrant destroy</code>. Omitting these
commands will leave the web service and REX-Ray Vagrant nodes online and
consume additional system resources.</p>
<h4 id="congratulations">Congratulations</h4>
<p>REX-Ray has been used to provide persistence for stateless containers! Examples
using MongoDB, Postgres, and more with persistent storage can be found at
<a href="user-guide/applications/">Application Examples</a>.</p>
<h2 id="getting-help">Getting Help</h2>
<p>Having issues? No worries, let's figure it out together.</p>
<h3 id="debug">Debug</h3>
<p>The <code>-l debug</code> flag can be appended to any command in order to get verbose
output. The following command will list all of the volumes visible to REX-Ray
with debug logging enabled:</p>
<pre><code>$ rexray volume -l debug
</code></pre>

<p>For an example of the full output from the above command, please refer to this
<a href="https://gist.github.com/akutz/df2afe2dc43f75b67b8977f398095ed7">Gist</a>.</p>
<h3 id="github-and-slack">GitHub and Slack</h3>
<p>If a little extra help is needed, please don't hesitate to use
<a href="https://github.com/emccode/rexray/issues">GitHub issues</a> or join the active
conversation on the
<a href="http://community.emccode.com/">EMC {code} Community Slack Team</a> in
the #project-rexray channel</p></div>
        </div>

        <script src="./js/jquery-1.10.2.min.js"></script>
        <script src="./js/bootstrap-3.0.3.min.js"></script>
        <script src="./js/highlight.pack.js"></script>
        <script src="./js/base.js"></script>
        <!--
        <script src="./.themes/yeti/js/base.js"></script>
        <script src="./.themes/yeti/js/bootstrap-3.0.3.min.js"></script>
        <script src="./.themes/yeti/js/highlight.pack.js"></script>
        <script src="./.themes/yeti/js/jquery-1.10.2.min.js"></script>
        -->
    </body>

</html>